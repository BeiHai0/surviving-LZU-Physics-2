# 第1章 $\R^3$ 空间的向量分析

## 向量分析基本知识

### 爱因斯坦求和约定

在同一代数项中见到两个重复指标 $i$ 就自动进行求和（除非特别指出该重复指标不求和），我们称求和指标 $i$ 为“哑标”。

比如，$\R^3 $ 空间中的向量 $\vec{A}\in \R^3 $ 在直角坐标下可表示为：

$$
\vec{A}
=A_1\vec{\mathrm{e}}_1+A_2\vec{\mathrm{e}}_2+A_3\vec{\mathrm{e}}_3
\equiv \sum_{i} A_i \vec{\mathrm{e}}_i
$$

其中，$\vec{\mathrm{e}}_1,\vec{\mathrm{e}}_2,\vec{\mathrm{e}}_3 $ 分别是 $x,y,z $ 轴正方向上的单位向量。

可利用爱因斯坦求和约定将 $\vec{A}\in \R^3 $ 简写为：

$$
\vec{A}
=\sum_{i} A_i \vec{\mathrm{e}}_i
\to
\vec{A}
=A_i \vec{\mathrm{e}}_i
$$

这样就省去了写求和符号的工作。

### Kronecher delta 符号 $\delta_{ij} $

$$
\delta_{ij}
=\begin{cases}
1&,i=j \\
0&,i\ne j
\end{cases}
$$

### 三阶单位全反对称张量（三阶 Levi-Citita 符号）$\varepsilon_{ijk} $

$$
\varepsilon_{ijk}
=\begin{cases}
1&,ijk=123,231,312,即相邻两指标经过偶次对换能还原到123 \\
-1&,ijk=132,213,321,即相邻两指标经过奇次对换能还原到123 \\
0&,ijk中有相同指标 \\
\end{cases}
$$

可以利用 $\varepsilon_{ijk} $ 表示任何一个三阶行列式：

$$
\begin{vmatrix}
a_1 &a_2 &a_3 \\
b_1 &b_2 &b_3 \\
c_1 &c_2 &c_3
\end{vmatrix}
=\varepsilon_{ijk} a_i b_j c_k
$$

### 一些简单算例

$\vec{\mathrm{e}}_i\cdot\vec{\mathrm{e}}_j=\delta_{ij} $

$A_{i}\delta_{ij}=A_j $

$\vec{A}\cdot\vec{B}=A_i B_i $

$$
\vec{A}\cdot\vec{B}
=(A_i\vec{\mathrm{e}}_i)\cdot (B_j\vec{\mathrm{e}}_j)
=A_i B_j\vec{\mathrm{e}}_i\cdot \vec{\mathrm{e}}_j
=A_i B_j \delta_{ij}
=A_i B_i
$$

$\vec{A}\times\vec{B}=\varepsilon_{ijk}\vec{\mathrm{e}}_i A_j B_k $

$$
\vec{A}\times\vec{B}
=\begin{vmatrix}
\vec{\mathrm{e}}_1 &\vec{\mathrm{e}}_2 &\vec{\mathrm{e}}_3 \\
A_1 &A_2 &A_3 \\
B_1 &B_2 &B_3
\end{vmatrix}
=\varepsilon_{ijk} \vec{\mathrm{e}}_i A_j B_k
$$

### 梯度、散度、旋度

#### 梯度（gradient）的定义

设 $\psi(\vec{r}) $ 是标量场，$\psi(\vec{r}) $ 其梯度，记为 $\mathrm{grad}~\psi(\vec{r}) $，由下式定义：

$$
\mathrm{grad}~\psi(\vec{r})\cdot\mathrm{d}\vec{r}
=\mathrm{d}\psi(\vec{r})
$$

其中，$\mathrm{d}\vec{r} $ 是位矢 $\vec{r} $ 的微小变化，$\mathrm{d}\psi(\vec{r}) $ 是标量场 $\psi(\vec{r}) $ 因位矢 $\vec{r} $ 变化 $\mathrm{d}\vec{r} $ 而引起的相应的变化。具体来说，$\mathrm{d}\psi(\vec{r}) $ 的定义为：

$$
\mathrm{d}\psi(\vec{r})
\equiv \psi(\vec{r}+\mathrm{d}\vec{r})-\psi(\vec{r})
$$

#### 散度（divergence）的定义

向量场 $\vec{A} $ 的散度，记为 $\mathrm{div}~\vec{A} $，定义为：

$$
\mathrm{div}~\vec{A}
\equiv \lim_{V\to 0^+} \frac{1 }{V } \oint\limits_{\partial V^+} \vec{A}\cdot\mathrm{d}\vec{S}
$$

#### 旋度（curl）的定义

向量场 $\vec{A} $ 的旋度，记为 $\mathrm{curl}~\vec{A} $，由下式定义：

$$
\left(\mathrm{curl}~\vec{A} \right)\cdot \vec{n}
=\lim_{\sigma\to 0^+} \frac{1 }{\sigma } \oint\limits_{\partial \sigma^+} \vec{A}\cdot\mathrm{d}\vec{l}
$$

其中，$\sigma $ 是与 $\vec{n} $ 垂直的面元。$\vec{n} $ 与面元 $\sigma $ 的正绕行方向满足右手定则。

#### 直角坐标系下的梯度、散度、旋度

这里直接给出结论。

$$
\mathrm{grad}~\psi
=\vec{\mathrm{e}}_i\partial_i\psi
$$

$$
\mathrm{div}~\vec{A}
=\partial_i A_i
$$

$$
\mathrm{curl}~\vec{A}
=\varepsilon_{ijk}\vec{\mathrm{e}}_i \partial_j A_k
$$

#### $\nabla $ 算子

$\nabla $ 算子（nabla 算子，或 del 算子）定义为：

$$
\nabla
\equiv \vec{\mathrm{e}}_i\partial_i
$$

其中，$\partial_i $ 的定义为：

$$
\partial_i\equiv \frac{\partial }{\partial x_i} 
$$

利用 $\nabla $ 算子，可将梯度、散度、旋度表示为：

$$
\mathrm{grad}~\psi
=\vec{\mathrm{e}}_i\partial_i \psi
\equiv \nabla \psi
$$

$$
\mathrm{div}~\vec{A}
=\partial_i A_i
\equiv \nabla\cdot \vec{A}
$$

$$
\mathrm{curl}~\vec{A}
=\varepsilon_{ijk}\vec{\mathrm{e}}_i \partial_j A_k
\equiv \nabla\times \vec{A}
$$

为了书写方便，以后用 $\nabla\psi,\nabla\cdot\vec{A},\nabla\times\vec{A} $ 分别来指代梯度、散度、旋度。

### 梯度与方向导数的关系

#### 方向导数

标量场 $\psi $ 在 $\vec{r} $ 点处沿 $\vec{v} $ 方向的方向导数，记为 $\displaystyle{\frac{\partial \psi(\vec{r}) }{\partial l }\bigg|_{\vec{v}}  }$，定义为：

$$
\frac{\partial \psi(\vec{r}) }{\partial l }\bigg|_{\vec{v}}
\equiv \lim_{v\to 0^+} \frac{\psi(\vec{r} + \vec{v}) - \psi(\vec{r}) }{v } 
$$

特别地，标量场 $\psi $ 在曲面 $\Sigma $ 上的 $\vec{r} $ 点处沿曲面上 $\vec{r} $ 点的外法向的方向导数简记为：

$$
\frac{\partial\psi(\vec{r}) }{\partial n } 
$$

#### 梯度和方向导数的关系

标量场的梯度的定义：

$$
\nabla\psi\cdot\mathrm{d}\vec{r}
=\mathrm{d}\psi
$$

设 $\mathrm{d}\vec{r} = \vec{n} \mathrm{d}r $，其中 $\vec{n} $ 是与 $\mathrm{d}\vec{r} $ 同向的单位向量，则有：

$$
(\nabla\psi)\cdot\vec{n} \mathrm{d}r
=\mathrm{d}\psi
$$

即：

$$
(\nabla\psi)\cdot\vec{n}
=\frac{\mathrm{d}\psi }{\mathrm{d}r }
=\frac{\psi(\vec{r}+\mathrm{d}\vec{r}) - \psi(\vec{r}) }{\mathrm{d}r }
=\frac{\partial \psi(\vec{r}) }{\partial l }\bigg|_{\vec{n}}   
$$

这就是说，标量场 $\psi $ 的梯度 $\nabla\psi $ 在某一方向 $\vec{n} $ 的投影恰等于标量场沿这一方向 $\vec{n} $ 的方向导数 $\displaystyle{\frac{\partial \psi(\vec{r}) }{\partial l }\bigg|_{\vec{n}}  }$。

### 散度与高斯定理

从散度的定义

$$
\nabla\cdot\vec{A}
\equiv \lim_{V\to 0^+} \frac{1 }{V } \oint\limits_{\partial V^+} \vec{A}\cdot\mathrm{d}\vec{S}
$$

出发，可以导出高斯定理：

$$
\oint\limits_{\partial V^+} \vec{A}\cdot\mathrm{d}\vec{S}
=\int\limits_{V} (\nabla\cdot\vec{A})\mathrm{d}V
$$

### 旋度与斯托克斯定理

从旋度的定义

$$
\left(\nabla\times\vec{A} \right)\cdot \vec{n}
=\lim_{\sigma\to 0^+} \frac{1 }{\sigma } \oint\limits_{\partial \sigma^+} \vec{A}\cdot\mathrm{d}\vec{l}
$$

出发，可以导出斯托克斯定理：

$$
\oint\limits_{\partial\Sigma^+}\vec{A}\cdot\mathrm{d}\vec{l}
=\int\limits_{\Sigma} (\nabla\times\vec{A})\cdot\mathrm{d}\vec{S}
$$

## $\R^3 $ 空间中向量分析常用公式

### 分析工具

$$
\left\{
\begin{aligned}
&\vec{\mathrm{e}}_i\cdot\vec{\mathrm{e}}_j=\delta_{ij} \\
&\vec{A} = A_i\vec{\mathrm{e}}_i \\
&A_{i}\delta_{ij}=A_j \\
&\vec{A}\cdot\vec{B}=A_i B_i \\
&\vec{A}\times\vec{B}=\varepsilon_{ijk}\vec{\mathrm{e}}_i A_j B_k \\
&(\vec{A}\times\vec{B})_l = \varepsilon_{ljk} A_j B_k \\
&\nabla\psi = \vec{\mathrm{e}}_i\partial_i \\
&\nabla\cdot\vec{A}=\partial_i A_i \\
&\nabla\times\vec{A} = \varepsilon_{ijk} \vec{\mathrm{e}}_i \partial_j A_k \\
&\partial_i \psi = (\nabla\psi)_i \\
&\nabla^2 \equiv \nabla\cdot \nabla = \partial_i \partial_i \\
&\nabla^2\psi\equiv \nabla\cdot(\nabla\psi)=\partial_i\partial_i \psi \\
&\nabla^2\vec{A}\equiv (\nabla^2 A_i)\vec{\mathrm{e}}_i \\
&\varepsilon_{ijk} = \varepsilon_{jki} = \varepsilon_{kij} \\
&\varepsilon_{ijk}\varepsilon_{ilm} = \delta_{jl}\delta_{km} - \delta_{jm}\delta_{kl} \\
&\partial_i x_j = \delta_{ij}
\end{aligned}
\right.
$$

### $\R^3 $ 空间中重要微分恒等式

#### 与 $\vec{r} $ 有关的公式

> $\nabla\cdot\vec{r}=3 $

$$
\begin{aligned}
\nabla\cdot\vec{r}
=\partial_i x_i
=3
\end{aligned}
$$

> $\nabla\times\vec{r}=\vec{0} $

$$
\begin{aligned}
\nabla\times\vec{r}
=\varepsilon_{ijk}\vec{\mathrm{e}}_i\partial_j x_k
=\varepsilon_{ijk}\vec{\mathrm{e}}_i \delta_{jk}
=\vec{0}
\end{aligned}
$$

#### 从左往右证的公式

> $\nabla(\varphi\psi)=\varphi\nabla\psi+\psi\nabla\varphi $

$$
\begin{aligned}
\nabla(\varphi\psi)
&=\vec{\mathrm{e}}_i\partial_i(\varphi\psi) \\
&=\vec{\mathrm{e}}_i\varphi\partial_i\psi + \vec{\mathrm{e}}_i\psi\partial_i\varphi \\
&=\varphi\vec{\mathrm{e}}_i\partial_i\psi + \psi\vec{\mathrm{e}}_i\partial_i\varphi \\
&=\varphi\nabla\psi + \psi\nabla\varphi
\end{aligned}
$$

> $\nabla\cdot(\varphi\vec{A})=\vec{A}\cdot(\nabla\varphi) + \varphi\nabla\cdot\vec{A} $

$$
\begin{aligned}
\nabla\cdot(\varphi\vec{A})
&=\partial_i(\varphi \vec{A})_i \\
&=\partial_i(\varphi A_i) \\
&=\varphi\partial_i A_i + A_i\partial_i \varphi \\
&=\varphi\nabla\cdot\vec{A} + (\vec{A}\cdot\nabla)\varphi \\
&=(\vec{A}\cdot\nabla)\varphi + \varphi\nabla\cdot\vec{A}
\end{aligned}
$$

> $\nabla\times(\varphi\vec{A})=(\nabla\varphi)\times\vec{A} + \varphi \nabla\times\vec{A} $

$$
\begin{aligned}
\nabla\times(\varphi\vec{A})
&=\varepsilon_{ijk}\vec{\mathrm{e}}_i\partial_j (\varphi\vec{A})_k \\
&=\varepsilon_{ijk}\vec{\mathrm{e}}_i \partial_j(\varphi A_k) \\
&=\varepsilon_{ijk}\vec{\mathrm{e}}_i (A_k\partial_j \varphi + \varphi\partial_j A_k) \\
&=\varepsilon_{ijk} \vec{\mathrm{e}}_i(\nabla\varphi)_j A_k + \varphi \varepsilon_{ijk} \vec{\mathrm{e}}_i \partial_j A_k \\
&=(\nabla\varphi)\times \vec{A} + \varphi \nabla\times\vec{A}
\end{aligned}
$$

> $\nabla\cdot (\vec{A}\times\vec{B} )=\vec{B}\cdot(\nabla\times\vec{A})-\vec{A}\cdot(\nabla\times\vec{B}) $

$$
\begin{aligned}
\nabla\cdot (\vec{A}\times\vec{B} )
&=\partial_i (\vec{A}\times\vec{B})_i \\
&=\partial_i (\varepsilon_{ijk} A_j B_k) \\
&=\varepsilon_{ijk}\partial_i ( A_j B_k) \\
&=\varepsilon_{ijk} B_k\partial_i A_j + \varepsilon_{ijk} A_j \partial_i B_k \\
&=B_k \varepsilon_{kij} \partial_i A_j - A_j \varepsilon_{jik} \partial_i B_k \\
&=B_k (\nabla\times \vec{A})_k - A_j (\nabla\times \vec{B})_j \\
&=\vec{B}\cdot(\nabla\times \vec{A}) - \vec{A}\cdot(\nabla\times\vec{B})
\end{aligned}
$$

> $\nabla\times(\vec{A}\times\vec{B}) = (\vec{B}\cdot\nabla)\vec{A} - (\vec{A}\cdot\nabla) \vec{B} + \vec{A}(\nabla\cdot\vec{B}) - \vec{B}(\nabla\cdot\vec{A}) $

$$
\begin{aligned}
\nabla\times(\vec{A}\times\vec{B})
&=\varepsilon_{ijk} \vec{\mathrm{e}}_i \partial_j (\vec{A}\times\vec{B})_k \\
&=\varepsilon_{ijk} \vec{\mathrm{e}}_i \partial_j \varepsilon_{klm} A_l B_m \\
&=\varepsilon_{kij} \varepsilon_{klm} \vec{\mathrm{e}}_i \partial_j (A_l B_m) \\
&=(\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl}) \vec{\mathrm{e}}_i (B_m\partial_j A_l + A_l\partial_j B_m) \\
&=\vec{\mathrm{e}}_l B_j\partial_j A_l + \vec{\mathrm{e}}_l A_l \partial_m B_m - \vec{\mathrm{e}}_m B_m \partial_l A_l - \vec{\mathrm{e}}_m A_j\partial_j B_m \\
&= B_j\partial_j A_l\vec{\mathrm{e}}_l + \vec{\mathrm{e}}_l A_l \partial_m B_m - \vec{\mathrm{e}}_m B_m \partial_l A_l -  A_j\partial_j B_m \vec{\mathrm{e}}_m \\
&=(\vec{B}\cdot\nabla)\vec{A} + \vec{A}(\nabla\cdot\vec{B}) - \vec{B}(\nabla\cdot\vec{A}) - (\vec{A}\cdot\nabla) \vec{B} \\
&=(\vec{B}\cdot\nabla)\vec{A} - (\vec{A}\cdot\nabla) \vec{B} + \vec{A}(\nabla\cdot\vec{B}) - \vec{B}(\nabla\cdot\vec{A})
\end{aligned} 
$$

> $\nabla\times(\nabla\times\vec{A})=\nabla(\nabla\cdot\vec{A})-\nabla^2 \vec{A} $

$$
\begin{aligned}
\nabla\times(\nabla\times\vec{A})
&=\varepsilon_{ijk} \vec{\mathrm{e}}_i\partial_j (\nabla\times\vec{A})_k \\
&=\varepsilon_{ijk} \vec{\mathrm{e}}_i \partial_j \varepsilon_{klm} \partial_l A_m \\
&=\varepsilon_{kij}\varepsilon_{klm} \vec{\mathrm{e}}_i\partial_j\partial_l A_m \\
&=(\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl}) \vec{\mathrm{e}}_i \partial_j \partial_l A_m \\
&=\vec{\mathrm{e}}_l\partial_m \partial_l A_m - \vec{\mathrm{e}}_m\partial_l \partial_l A_m \\
&=\vec{\mathrm{e}}_l\partial_l\partial_m A_m -\partial_l\partial_l A_m\vec{\mathrm{e}}_m \\
&=\nabla(\nabla\cdot\vec{A}) - \nabla^2\vec{A}
\end{aligned}
$$

#### 需要注意力的公式

> $\nabla\times(\nabla \varphi)=\vec{0} $

$$
\begin{aligned}
\nabla\times(\nabla \varphi)
&=\varepsilon_{ijk} \vec{\mathrm{e}}_i\partial_j (\nabla\varphi)_k \\
&=\vec{\mathrm{e}}_i\varepsilon_{ijk} \partial_j\partial_k\varphi
\end{aligned}
$$

由于我们只考虑性质比较好的函数，于是 $\partial_j \partial_k\varphi=\partial_k\partial_j\varphi $，再结合 $\varepsilon_{ijk}=-\varepsilon_{ikj} $，有：

$$
\begin{aligned}
\vec{\mathrm{e}}_i\varepsilon_{ijk}\partial_j\partial_k\varphi
&=-\vec{\mathrm{e}}_i\varepsilon_{ikj}\partial_k\partial_j\varphi \\
&=-\vec{\mathrm{e}}_i\varepsilon_{ijk}\partial_j\partial_k\varphi
\end{aligned}
$$

最后一步是因为 $j,k $ 都是用于求和的哑标，因此可以交换。

上式说明：

$$
\vec{\mathrm{e}}_i\varepsilon_{ijk}\partial_j\partial_k\varphi=\vec{0}
$$

于是：

$$
\nabla\times(\nabla \varphi)
=\vec{\mathrm{e}}_i\varepsilon_{ijk}\partial_j\partial_k\varphi
=\vec{0}
$$

> $\nabla\cdot(\nabla\times \vec{A})=0 $

$$
\begin{aligned}
\nabla\cdot(\nabla\times \vec{A})
&=\partial_i (\nabla\times\vec{A})_i \\
&=\partial_i \varepsilon_{ijk} \partial_j A_k \\
&=\varepsilon_{ijk}\partial_i\partial_j A_k
\end{aligned}
$$

注意到：

$$
\begin{aligned}
\varepsilon_{ijk}\partial_i\partial_j A_k
&=-\varepsilon_{jik}\partial_j\partial_i A_k \\
&=-\varepsilon_{ijk}\partial_i\partial_j A_k
\end{aligned}
$$

于是：

$$
\varepsilon_{ijk}\partial_i\partial_j A_k
=0
$$

这就是说：

$$
\nabla\cdot(\nabla\times \vec{A})
=\varepsilon_{ijk}\partial_i\partial_j A_k
=0
$$

#### 从右往左证的公式

> $\nabla(\vec{A}\cdot\vec{B})=(\vec{B}\cdot \nabla)\vec{A}+(\vec{A}\cdot\nabla)\vec{B}+\vec{B}\times(\nabla\times\vec{A})+\vec{A}\times(\nabla\times\vec{B}) $

$$
\begin{aligned}
&(\vec{B}\cdot \nabla)\vec{A}+(\vec{A}\cdot\nabla)\vec{B}+\vec{B}\times(\nabla\times\vec{A})+\vec{A}\times(\nabla\times\vec{B}) \\
=&B_i\partial_i A_j \vec{\mathrm{e}}_j + A_i\partial_i B_j\vec{\mathrm{e}}_j + \varepsilon_{ijk}\vec{\mathrm{e}}_iB_j(\nabla\times\vec{A})_k + \varepsilon_{ijk} \vec{\mathrm{e}}_i A_j(\nabla\times\vec{B})_k \\
=&B_i\partial_i A_j \vec{\mathrm{e}}_j + A_i\partial_i B_j\vec{\mathrm{e}}_j + \varepsilon_{ijk}\vec{\mathrm{e}}_iB_j\varepsilon_{klm}\partial_l A_m + \varepsilon_{ijk} \vec{\mathrm{e}}_i A_j\varepsilon_{klm}\partial_l B_m \\
=&B_i\partial_i A_j \vec{\mathrm{e}}_j + A_i\partial_i B_j\vec{\mathrm{e}}_j + \varepsilon_{kij}\varepsilon_{klm}\vec{\mathrm{e}}_iB_j\partial_l A_m + \varepsilon_{kij}\varepsilon_{klm} \vec{\mathrm{e}}_i A_j\partial_l B_m \\
=&B_i\partial_i A_j \vec{\mathrm{e}}_j + A_i\partial_i B_j\vec{\mathrm{e}}_j + (\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl})\vec{\mathrm{e}}_iB_j\partial_l A_m + (\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl}) \vec{\mathrm{e}}_i A_j\partial_l B_m \\
=&B_i\partial_i A_j \vec{\mathrm{e}}_j + A_i\partial_i B_j\vec{\mathrm{e}}_j + \vec{\mathrm{e}}_l B_m\partial_l A_m -\vec{\mathrm{e}}_m B_l\partial_l A_m + \vec{\mathrm{e}}_l A_m\partial_l B_m - \vec{\mathrm{e}}_m A_l\partial_l B_m \\
=&B_i\partial_i A_j \vec{\mathrm{e}}_j + A_i\partial_i B_j\vec{\mathrm{e}}_j +  B_m\vec{\mathrm{e}}_l\partial_l A_m -B_l\partial_l A_m \vec{\mathrm{e}}_m + A_m\vec{\mathrm{e}}_l \partial_l B_m -  A_l\partial_l B_m \vec{\mathrm{e}}_m \\
=&B_m\vec{\mathrm{e}}_l\partial_l A_m + A_m\vec{\mathrm{e}}_l \partial_l B_m \\
=&B_m\nabla A_m + A_m \nabla B_m \\
=&\nabla(A_m B_m) \\
=&\nabla(\vec{A}\cdot\vec{B})
\end{aligned}
$$

### $\R^3 $ 空间中重要积分恒等式

#### 高斯定理

> $\displaystyle{\oint\limits_{\partial V^+} \vec{A}\cdot\mathrm{d}\vec{S} = \int\limits_{V} (\nabla\cdot\vec{A})\mathrm{d}V}$ 

#### 斯托克斯定理

> $\displaystyle{\oint\limits_{\partial\Sigma^+}\vec{A}\cdot\mathrm{d}\vec{l} = \int\limits_{\Sigma} (\nabla\times\vec{A})\cdot\mathrm{d}\vec{S} }$ 

#### 格林第一恒等式

> $\displaystyle{\oint\limits_{\partial\Omega^+} \psi\nabla\phi\cdot\mathrm{d}\vec{S} = \int\limits_{\Omega} \left(\psi\nabla^2\phi + \nabla\phi\cdot \nabla\psi \right)\mathrm{d}V }$

注意到：

$$
\begin{aligned}
\nabla\cdot(\psi\nabla\phi)
&=\partial_i(\psi\nabla\phi)_i \\
&=\partial_i(\psi\partial_i\phi) \\
&=(\partial_i \phi)(\partial_i\psi) + \psi\partial_i\partial_i\phi \\
&=(\nabla\phi)_i(\nabla\psi)_i + \psi\nabla^2\phi \\
&=(\nabla\phi)\cdot(\nabla\psi) + \psi\nabla^2\phi
\end{aligned}
$$

于是由高斯定理，有：

$$
\begin{aligned}
\oint\limits_{\partial\Omega^+} \psi\nabla\phi\cdot\mathrm{d}\vec{S}
&=\int\limits_{\Omega} \nabla\cdot(\psi\nabla\phi)\mathrm{d}V \\
&=\int\limits_{\Omega} \left[(\nabla\phi)\cdot(\nabla\psi) + \psi\nabla^2\phi \right]\mathrm{d}V \\
&=\int\limits_{\Omega} \left[\psi\nabla^2\phi + (\nabla\phi)\cdot(\nabla\psi) \right]\mathrm{d}V \\
\end{aligned}
$$

#### 格林第二恒等式

> $\displaystyle{\oint\limits_{\partial\Omega^+}\left(\psi\nabla\phi-\phi\nabla\psi \right)\cdot\mathrm{d}\vec{S} = \int\limits_{\Omega} (\psi\nabla^2\phi-\phi\nabla^2\psi)\mathrm{d}V} $ 

利用 $\nabla\cdot(\varphi\vec{A})=\vec{A}\cdot(\nabla\varphi) + \varphi\nabla\cdot\vec{A} $ 可得：

$$
\begin{aligned}
\nabla\cdot(\psi\nabla\phi-\phi\nabla\psi)
&=\nabla\phi\cdot\nabla\psi + \psi\nabla\cdot(\nabla\phi) - \left(\nabla\psi\cdot\nabla\phi + \phi\nabla\cdot(\nabla\psi) \right) \\
&=\psi\nabla^2\phi-\phi\nabla^2\psi
\end{aligned}
$$

于是由高斯定理可得：

$$
\begin{aligned}
\oint\limits_{\partial\Omega^+}\left(\psi\nabla\phi-\phi\nabla\psi \right)\cdot\mathrm{d}\vec{S}
&=\int\limits_{\Omega} \nabla\cdot(\psi\nabla\phi-\phi\nabla\psi) \mathrm{d}V \\
&=\int\limits_{\Omega} (\psi\nabla^2\phi-\phi\nabla^2\psi) \mathrm{d}V
\end{aligned}
$$



# 第2章 $\R^3$ 空间曲线坐标系中的向量分析

## $\nabla$ 算子

### 直角坐标下的 $\nabla$

$$
\nabla
=\vec{e}_x\frac{\partial }{\partial x}+\vec{e}_y\frac{\partial}{\partial y}+\vec{e}_z\frac{\partial }{\partial z}
$$

### 球坐标下的 $\nabla$

$$
\nabla
=\vec{e}_r\frac{\partial }{\partial r}+\vec{e}_\theta\frac{1}{r}\frac{\partial}{\partial \theta} +\vec{e}_\varphi \frac{1}{r\sin\theta}\frac{\partial}{\partial \varphi}
$$

### 柱坐标下的 $\nabla$

$$
\nabla
=\vec{e}_\rho\frac{\partial}{\partial \rho}+\vec{e}_\varphi\frac{1}{\rho} \frac{\partial}{\partial \varphi}+\vec{e}_z\frac{\partial}{\partial z}
$$

## $\nabla^2$ 算子

### 直角坐标下的 $\nabla^2$

$$
\nabla^2
=\frac{\partial^2}{\partial x^2}+\frac{\partial^2}{\partial y^2}+\frac{\partial^2}{\partial z^2}
$$

### 球坐标下的 $\nabla^2$

$$
\nabla^2
=\frac{1}{r^2}\frac{\partial}{\partial r}\left(r^2\frac{\partial}{\partial r}\right)+\frac{1}{r^2\sin\theta}\frac{\partial}{\partial \theta}\left(\sin\theta\frac{\partial}{\partial\theta}\right)+\frac{1}{r^2\sin^2\theta}\frac{\partial^2}{\partial \varphi^2}
$$

### 柱坐标下的 $\nabla^2$

$$
\nabla^2
=\frac{1}{\rho}\frac{\partial}{\partial \rho}\left(\rho\frac{\partial }{\partial \rho}\right)+\frac{1}{\rho^2}\frac{\partial^2}{\partial \varphi^2}+\frac{\partial^2}{\partial z^2}
$$

# 第3章 线性空间

# 第4章 复变函数的概念

# 第5章 解析函数

# 第6章 复变函数积分

# 第7章 复变函数的级数展开

# 第8章 留数定理及其在实积分中的应用

# 第9章 傅里叶变换

# 第10章 拉普拉斯变换

# 第11章 $\delta$ 函数

# 第12章 小波变换初步

# 第13章 波动方程、输运方程、泊松方程及其定解问题

# 第14章 分离变量法

# 第15章 曲线坐标系下的分离变量

# 第16章 球函数

# 第17章 柱函数

# 第18章 格林函数法

# 第19章 其他方程求解

# 第20章 非线性数学物理方程初步

# 第21章 泛函的变分

# 第22章 变分原理